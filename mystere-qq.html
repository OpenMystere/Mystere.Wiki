<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-07T03:22:32.554158966"><meta name="build-number" content="9">       <title>QQ 开放平台 | Mystere</title><script id="virtual-toc-data" type="application/json">[{"id":"onebot-v11","level":0,"title":"OneBot V11","anchor":"#onebot-v11"},{"id":"onebot-v12","level":0,"title":"OneBot V12","anchor":"#onebot-v12"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="QQ 开放平台 | Mystere"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Mystere Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/v1.0.0-alpha01/mystere-qq.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="QQ 开放平台 | Mystere"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/v1.0.0-alpha01/mystere-qq.html#webpage", "url": "/v1.0.0-alpha01/mystere-qq.html", "name": "QQ 开放平台 | Mystere", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "Mystere Help" }</script><!-- End Schema.org --></head>      <body data-id="mystere-qq" data-main-title="QQ 开放平台" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Mystere///平台支持"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Mystere v1.0.0-alpha01 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="mystere-qq"   id="mystere-qq.md">QQ 开放平台</h1>  <p id="a153066f_2">Mystere 支持对接 <a href="https://q.qq.com" id="a153066f_3"   data-external="true" rel="noopener noreferrer" >QQ 开放平台</a>。</p><section class="chapter"><h2 id="onebot-v11" data-toc="onebot-v11"   >OneBot V11</h2><div class="table-wrapper"><table class="wide" id="a153066f_4"><thead><tr class="ijRowHead" id="a153066f_5"><th id="a153066f_6"></th><th id="a153066f_7"><p>WebSocket Reverse</p></th><th id="a153066f_8"><p>WebSocket</p></th><th id="a153066f_9"><p>Http Post</p></th><th id="a153066f_10"><p>Http</p></th></tr></thead><tbody><tr id="a153066f_11"><td id="a153066f_12"><p>OneBot V11</p></td><td id="a153066f_13"><p>🚧️ [2]</p></td><td id="a153066f_14"><p>❌ [1]</p></td><td id="a153066f_15"><p>❌ [1]</p></td><td id="a153066f_16"><p>❌ [1]</p></td></tr></tbody></table></div><ol class="list _decimal" id="a153066f_17" type="1"><li class="list__item" id="a153066f_18"><p>适配工作尚未开始。</p></li><li class="list__item" id="a153066f_19"><p>OneBot V11 协议需 <a href="#v11-扩展内容" id="a153066f_20" data-tooltip="所有事件新增参数："  >扩展</a> 才能支持，OneBot 应用端可能无法直接使用现有 OneBot V11 库。</p></li></ol><section class="chapter"><h3 id="v11-扩展内容" data-toc="v11-扩展内容"   >扩展内容</h3><ul class="list _ul" id="a153066f_21"><li class="list__item" id="a153066f_22"><p id="a153066f_23">所有事件新增参数：</p><div class="table-wrapper"><table class="wide" id="a153066f_24"><thead><tr class="ijRowHead" id="a153066f_25"><th id="a153066f_26"><p>字段名</p></th><th id="a153066f_27"><p>数据类型</p></th><th id="a153066f_28"><p>说明</p></th></tr></thead><tbody><tr id="a153066f_29"><td id="a153066f_30"><p>id</p></td><td id="a153066f_31"><p>string</p></td><td id="a153066f_32"><p>事件唯一标识符，当事件类型为 <code class="code" id="a153066f_33">message</code> 时值同 <code class="code" id="a153066f_34">message_id</code></p></td></tr></tbody></table></div></li><li class="list__item" id="a153066f_35"><p id="a153066f_36"><code class="code" id="a153066f_37">send_message</code> 动作请求新增参数：</p><div class="table-wrapper"><table class="wide" id="a153066f_38"><thead><tr class="ijRowHead" id="a153066f_39"><th id="a153066f_40"><p>字段名</p></th><th id="a153066f_41"><p>数据类型</p></th><th id="a153066f_42"><p>说明</p></th></tr></thead><tbody><tr id="a153066f_43"><td id="a153066f_44"><p>origin_event</p></td><td id="a153066f_45"><p>map[string]any</p></td><td id="a153066f_46"><p>可选，回复事件，当 <code class="code" id="a153066f_47">origin_event</code> 字段存在时则为被动消息，否则为主动消息。</p></td></tr></tbody></table></div><p id="a153066f_48">PS：此处提到的回复不同于 <a href="https://12.onebot.dev/interface/message/segments/#reply" id="a153066f_49"   data-external="true" rel="noopener noreferrer" >消息段中定义的回复</a> ，在 QQ 开放平台中将 <a href="https://12.onebot.dev/interface/message/segments/#reply" id="a153066f_50"   data-external="true" rel="noopener noreferrer" >消息段中定义的回复</a> 定义为 <a href="https://bot.q.qq.com/wiki/develop/api-v2/server-inter/message/send-receive/send.html" id="a153066f_51"   data-external="true" rel="noopener noreferrer" >消息引用（message_reference）</a></p><p id="a153066f_52">其中 <code class="code" id="a153066f_53">origin_event</code> 定义如下：</p><div class="table-wrapper"><table class="wide" id="a153066f_54"><thead><tr class="ijRowHead" id="a153066f_55"><th id="a153066f_56"><p>字段名</p></th><th id="a153066f_57"><p>数据类型</p></th><th id="a153066f_58"><p>说明</p></th></tr></thead><tbody><tr id="a153066f_59"><td id="a153066f_60"><p>id</p></td><td id="a153066f_61"><p>string</p></td><td id="a153066f_62"><p>原事件 ID，由 Mystere 分发事件时提供</p></td></tr><tr id="a153066f_63"><td id="a153066f_64"><p>type</p></td><td id="a153066f_65"><p>string</p></td><td id="a153066f_66"><p>原事件类型，同 <a href="https://github.com/botuniverse/onebot-11/tree/master/event#内容字段" id="a153066f_67"   data-external="true" rel="noopener noreferrer" >OneBot V11 事件类型</a></p></td></tr><tr id="a153066f_68"><td id="a153066f_69"><p>detail_type</p></td><td id="a153066f_70"><p>string</p></td><td id="a153066f_71"><p>原事件详细类型 [1]</p></td></tr><tr id="a153066f_72"><td id="a153066f_73"><p>sub_type</p></td><td id="a153066f_74"><p>string</p></td><td id="a153066f_75"><p>原事件子类型（详细类型的下一级类型） [2]</p></td></tr></tbody></table></div><ol class="list _decimal" id="a153066f_76" type="1"><li class="list__item" id="a153066f_77"><p id="a153066f_78"><code class="code" id="a153066f_79">detail_type</code> 定义如下：</p><ul class="list _ul" id="a153066f_80"><li class="list__item" id="a153066f_81"><p>当 <code class="code" id="a153066f_82">type</code> 为 <code class="code" id="a153066f_83">meta</code> 时，值为原事件的 <code class="code" id="a153066f_84">meta_event_type</code>；</p></li><li class="list__item" id="a153066f_85"><p>当 <code class="code" id="a153066f_86">type</code> 为 <code class="code" id="a153066f_87">message</code> 时，值为原事件的 <code class="code" id="a153066f_88">message_type</code>；</p></li><li class="list__item" id="a153066f_89"><p>当 <code class="code" id="a153066f_90">type</code> 为 <code class="code" id="a153066f_91">notice</code> 时，值为原事件的 <code class="code" id="a153066f_92">notice_type</code>；</p></li><li class="list__item" id="a153066f_93"><p>当 <code class="code" id="a153066f_94">type</code> 为 <code class="code" id="a153066f_95">request</code> 时，值为原事件的 <code class="code" id="a153066f_96">request_type</code>。</p></li></ul></li><li class="list__item" id="a153066f_97"><p id="a153066f_98"><code class="code" id="a153066f_99">sub_type</code> 定义如下：</p><ul class="list _ul" id="a153066f_100"><li class="list__item" id="a153066f_101"><p>当 <code class="code" id="a153066f_102">type</code> 为 <code class="code" id="a153066f_103">meta</code> 时，值为空字符串；</p></li><li class="list__item" id="a153066f_104"><p>当 <code class="code" id="a153066f_105">type</code> 为 <code class="code" id="a153066f_106">message</code> 时，值为原事件的 <code class="code" id="a153066f_107">sub_type</code>；</p></li><li class="list__item" id="a153066f_108"><p>当 <code class="code" id="a153066f_109">type</code> 为 <code class="code" id="a153066f_110">notice</code> 时，值为原事件的 <code class="code" id="a153066f_111">sub_type</code>；</p></li><li class="list__item" id="a153066f_112"><p>当 <code class="code" id="a153066f_113">type</code> 为 <code class="code" id="a153066f_114">meta</code> 时，值为空字符串；</p></li></ul><p id="a153066f_115">简而言之就是当原事件参数存在 <code class="code" id="a153066f_116">sub_type</code> 时传递原值，否则传递空字符串。</p></li></ol></li></ul></section></section><section class="chapter"><h2 id="onebot-v12" data-toc="onebot-v12"   >OneBot V12</h2><div class="table-wrapper"><table class="wide" id="a153066f_117"><thead><tr class="ijRowHead" id="a153066f_118"><th id="a153066f_119"></th><th id="a153066f_120"><p>WebSocket Reverse</p></th><th id="a153066f_121"><p>WebSocket</p></th><th id="a153066f_122"><p>Http WebHook</p></th><th id="a153066f_123"><p>Http</p></th></tr></thead><tbody><tr id="a153066f_124"><td id="a153066f_125"><p>OneBot V12</p></td><td id="a153066f_126"><p>❌ [1]</p></td><td id="a153066f_127"><p>❌ [1]</p></td><td id="a153066f_128"><p>❌ [1]</p></td><td id="a153066f_129"><p>❌ [1]</p></td></tr></tbody></table></div><ol class="list _decimal" id="a153066f_130" type="1"><li class="list__item" id="a153066f_131"><p>适配工作尚未开始。</p></li><li class="list__item" id="a153066f_132"><p>OneBot V12 协议需 <a href="#v12-扩展内容" id="a153066f_133" data-tooltip="send_message 动作请求新增参数："  >扩展</a> 才能支持，OneBot 应用端可能无法直接使用现有 OneBot V12 库。</p></li></ol><section class="chapter"><h3 id="v12-扩展内容" data-toc="v12-扩展内容"   >扩展内容</h3><ul class="list _ul" id="a153066f_134"><li class="list__item" id="a153066f_135"><p id="a153066f_136"><code class="code" id="a153066f_137">send_message</code> 动作请求新增参数：</p><div class="table-wrapper"><table class="wide" id="a153066f_138"><thead><tr class="ijRowHead" id="a153066f_139"><th id="a153066f_140"><p>字段名</p></th><th id="a153066f_141"><p>数据类型</p></th><th id="a153066f_142"><p>说明</p></th></tr></thead><tbody><tr id="a153066f_143"><td id="a153066f_144"><p>origin_event</p></td><td id="a153066f_145"><p>map[string]any</p></td><td id="a153066f_146"><p>可选，回复事件，当 <code class="code" id="a153066f_147">origin_event</code> 字段存在时则为被动消息，否则为主动消息。</p></td></tr></tbody></table></div><p id="a153066f_148">PS：此处提到的回复不同于 <a href="https://12.onebot.dev/interface/message/segments/#reply" id="a153066f_149"   data-external="true" rel="noopener noreferrer" >消息段中定义的回复</a> ，在 QQ 开放平台中将 <a href="https://12.onebot.dev/interface/message/segments/#reply" id="a153066f_150"   data-external="true" rel="noopener noreferrer" >消息段中定义的回复</a> 定义为 <a href="https://bot.q.qq.com/wiki/develop/api-v2/server-inter/message/send-receive/send.html" id="a153066f_151"   data-external="true" rel="noopener noreferrer" >消息引用（message_reference）</a></p><p id="a153066f_152">其中 <code class="code" id="a153066f_153">origin_event</code> 定义如下（同 <a href="https://12.onebot.dev/connect/data-protocol/event/" id="a153066f_154"   data-external="true" rel="noopener noreferrer" >OneBot V12 事件类型</a>）：</p><div class="table-wrapper"><table class="wide" id="a153066f_155"><thead><tr class="ijRowHead" id="a153066f_156"><th id="a153066f_157"><p>字段名</p></th><th id="a153066f_158"><p>数据类型</p></th><th id="a153066f_159"><p>说明</p></th></tr></thead><tbody><tr id="a153066f_160"><td id="a153066f_161"><p>id</p></td><td id="a153066f_162"><p>string</p></td><td id="a153066f_163"><p>原事件 ID</p></td></tr><tr id="a153066f_164"><td id="a153066f_165"><p>type</p></td><td id="a153066f_166"><p>string</p></td><td id="a153066f_167"><p>原事件类型</p></td></tr><tr id="a153066f_168"><td id="a153066f_169"><p>detail_type</p></td><td id="a153066f_170"><p>string</p></td><td id="a153066f_171"><p>原事件详细类型</p></td></tr><tr id="a153066f_172"><td id="a153066f_173"><p>sub_type</p></td><td id="a153066f_174"><p>string</p></td><td id="a153066f_175"><p>原事件子类型（详细类型的下一级类型）</p></td></tr></tbody></table></div></li></ul></section></section><div class="last-modified"> Last modified: 07 December 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="starter-topic.html">介绍</a>   <a class="navigation-links__next" href="qq-v11-api.html">API</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>